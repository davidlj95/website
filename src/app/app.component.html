<main>
  <div class="window">
    <app-toolbar class="box-item hideIfNoScript"></app-toolbar>
    <app-profile class="box-item content"></app-profile>
    <app-no-script class="box-item content"></app-no-script>
    <app-navigation-tabs class="box-item hideIfNoScript"></app-navigation-tabs>
    <app-contacts class="box-item content tab-content last-box"></app-contacts>
    <app-social-networks class="box-item content tab-content last-box"></app-social-networks>
    <script>
      const tabBar = document.getElementsByTagName("ul").item(0);
      tabBar.setAttribute('style', '');
      const tabContents = Array.from(document.getElementsByClassName("tab-content"));
      const selectedByDefault = 0;
      tabContents.forEach((item, index) => {
        if (index === selectedByDefault) {
          return;
        }
        item.setAttribute('style', 'display: none');
      });
      const tabItems = Array.from(tabBar.children);
      tabItems.at(selectedByDefault).classList.add('selected');
      tabItems.forEach((item, index) => {
        // Ignore if linking to another place
        if (item.children.length > 0 && item.children[0].tagName.toLowerCase() === "a") {
          return;
        }
        item.addEventListener("click", () => {
          const selectedIndex = tabItems.findIndex((tabItem) => tabItem.classList.contains("selected"));
          tabContents.at(selectedIndex).setAttribute('style', 'display: none');
          tabContents.at(index).setAttribute('style', '');
          tabItems.at(selectedIndex).classList.remove('selected');
          item.classList.add('selected');
        });
      });
    </script>
  </div>
</main>
<router-outlet></router-outlet>
