<div class="header">
  <div class="image">
    <a [href]="position.company.website.toString()">
      <img
        [ngSrc]="position.company.image.toString()"
        width="64"
        height="64"
        alt="{{ position.company.name }} logo"
      />
    </a>
  </div>
  <div class="text">
    <span class="company">
      <a [href]="position.company.website.toString()">
        {{ position.company.name }}
      </a>
    </span>
    <span class="role">{{ position.role }}</span>
    <span class="dates"
      ><span class="start">{{ position.startDate | date: 'MMM yyyy' }}</span>
      <span class="separator"> â†’ </span>
      <span class="end">
        <ng-container *ngIf="position.endDate; else present">
          {{ position.endDate | date: 'MMM yyyy' }}
        </ng-container>
        <ng-template #present>Present</ng-template>
      </span>
    </span>
  </div>
  <div class="attributes">
    <div class="freelance">
      <ng-container *ngIf="!position.freelance; else freelance">
        <span [class]="MATERIAL_SYMBOLS_CLASS">
          {{ MaterialSymbol.Badge }}
        </span>
        <div role="tooltip">Employee</div>
      </ng-container>
      <ng-template #freelance>
        <span [class]="MATERIAL_SYMBOLS_CLASS">
          {{ MaterialSymbol.Work }}
        </span>
        <div role="tooltip">Freelance</div>
      </ng-template>
    </div>
    <div class="internship" *ngIf="position.internship">
      <span [class]="MATERIAL_SYMBOLS_CLASS">
        {{ MaterialSymbol.School }}
      </span>
      <div role="tooltip">Internship</div>
    </div>
    <div class="initial-positions" *ngIf="position.previousRoles.length">
      <span [class]="MATERIAL_SYMBOLS_CLASS">
        {{ MaterialSymbol.ToolsLadder }}
      </span>
      <div role="tooltip">
        The role displayed is last one. There were promotions whilst working for
        the company. Previous roles: {{ position.previousRoles.join(', ') }}
      </div>
    </div>
    <div class="other-positions" *ngIf="position.otherRoles.length">
      <span [class]="MATERIAL_SYMBOLS_CLASS">
        {{ MaterialSymbol.More }}
      </span>
      <div role="tooltip">
        Other positions also carried: {{ position.otherRoles.join(', ') }}
      </div>
    </div>
    <div class="formerly-known-as" *ngIf="position.company.formerlyKnownAs">
      <span [class]="MATERIAL_SYMBOLS_CLASS">
        {{ MaterialSymbol.Resume }}
      </span>
      <div role="tooltip">
        Company formerly known as {{ position.company.formerlyKnownAs }}
      </div>
    </div>
  </div>
</div>
<div class="chips">
  <button
    class="chip"
    *ngFor="let chip of chips"
    [class.active]="activeContentType === chip"
    (click)="onContentTypeClick(chip)"
  >
    {{ chip.displayName }}
  </button>
</div>
<div class="content" *ngIf="activeContentType">
  <ng-container *ngIf="activeContentType.id === ContentTypeId.Summary">
    {{ position.summary }}
  </ng-container>
  <ng-container *ngIf="activeContentType.id === ContentTypeId.Highlights">
    <ul>
      <li *ngFor="let highlight of position.highlights">
        {{ highlight }}
      </li>
    </ul>
  </ng-container>
</div>
