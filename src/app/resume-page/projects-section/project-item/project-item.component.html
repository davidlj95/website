<app-card>
  <app-card-header>
    @let item = this.item();
    @if (item.imageSrc) {
      <app-link [href]="item.website?.toString()" appTestId="image">
        <app-card-header-image
          [src]="item.imageSrc"
          [alt]="item.name + ' logo'"
        ></app-card-header-image>
      </app-link>
    }
    <app-card-header-texts>
      <app-card-header-title appTestId="name">
        {{ item.name }}
      </app-card-header-title>
      @if (item.roles.length) {
        <app-card-header-subtitle appTestId="role">
          <!-- TODO: display all roles, for current case just 1 is enough -->
          {{ item.roles[0] }}
        </app-card-header-subtitle>
      }
      <app-card-header-detail>
        <app-date-range [range]="item.dateRange"></app-date-range>
      </app-card-header-detail>
    </app-card-header-texts>
    <app-card-header-attributes>
      @if (item.stack) {
        <app-attribute
          [symbol]="_stackContent[item.stack].materialSymbol"
          [appTestId]="Attribute.Stack"
        >
          {{ _stackContent[item.stack].displayName }}
        </app-attribute>
      }
    </app-card-header-attributes>
  </app-card-header>
  <app-chipped-content [contents]="_contents()"></app-chipped-content>
</app-card>
