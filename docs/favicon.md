# Favicon

Ahh, the good old small icon in your browser tab representing your website so user has another visual clue to switch tabs. And appears in the search results as well also.

It used to be as simple as converting your icon to `.ico` and placing it as `favicon.ico` in the root of your website (`/favicon.ico`).

However, later it was recommended to point at it using a `<link rel="icon">` HTML tag. Then, PWAs arrived and you could specify icons for them. Apple and its touch icons if you add the site to your phone's home screen...

I used to use a [favicon generator site called `Favicon-Generator.org`][favicon-generator-org] but there are quite a few. Why this one was better? At that time, because it generated all the extra jazz (Apple touch icons, Android icons, Microsoft tiles...). But seems it misses some things after checking in [some favicon checker sites](#checkers).

Eventually came with [a 2021 article](https://www.leereamsnyder.com/blog/favicons-in-2021) talking about the topic that lead me to a [2023 updated article](https://dev.to/masakudamatsu/favicon-nightmare-how-to-maintain-sanity-3al7) which seems quite comprehensive.

So using that guide generate the favicons. Eventually, I designed the favicon using Inkscape
in a 512x512 size (the biggest required from what I've seen). And exported it using SVG.

Font is same as main body font of the site. And color is one with 50% luminance in the HSL scale. This way it looks with [sufficient contrast](https://coolors.co/contrast-checker/7a7a85-ffffff) disregarding if the text is displayed against a dark or light background. I took the `background.z0` dark theme color, which is also the theme color and (`#202023`) and changed luminance to 50% in HSL.

Finally, used some of the generators and checkers to ensure I'm not missing any important icon.

# Summary of favicons included

## Basic

First, I've included the recommendation from the guide first

```html

<link rel="icon" href="favicon.ico" sizes="48x48">
<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml">
<link rel="apple-touch-icon" href="assets/favicons/apple-touch-icon.png"/>
<link rel="manifest" href="site.webmanifest"/>
```

Those were generated by [Real Favicon Generator][real-favicon-generator]. The SVG file is the original one (exported as "Optimized SVG" from Inkscape). Will be improved later.

## Safari masked icon

Icon to please some old Safari version.

```html

<link rel="mask-icon" href="assets/favicons/safari-pinned-tab.svg" color="#202023">
```

Generated by [Real Favicon Generator][real-favicon-generator]

## Theme color

Not 100% strictly related to favicons but here it is. Also defined for Microsoft tiles and progressive web apps via the web manifest.

```html

<meta name="theme-color" content="#202023">
```

## Apple touch icons

For all sizes :)

```html

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="assets/favicons/apple-touch-icon-57x57.png"/>
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/favicons/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/favicons/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/favicons/apple-touch-icon-144x144.png"/>
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="assets/favicons/apple-touch-icon-60x60.png"/>
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="assets/favicons/apple-touch-icon-120x120.png"/>
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="assets/favicons/apple-touch-icon-76x76.png"/>
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="assets/favicons/apple-touch-icon-152x152.png"/>
```

Generated by [Favicomatic][favicomatic]

## Extra favicon sizes

Then, some extra favicon sizes, provided by [Favicomatic][favicomatic]

```html 

<link href="assets/favicons/favicon-196x196.png" rel="icon" sizes="196x196" type="image/png">
<link href="assets/favicons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png">
<link href="assets/favicons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="assets/favicons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="assets/favicons/favicon-128x128.png" rel="icon" sizes="128x128" type="image/png">
```

I first used the ones by [FaviconGenerator.org][favicon-generator-org]. But they miss the 196, 128 version and are ordered in a different manner. Also [Favicomatic][favicomatic] ones are lighter.

# Web manifest

Linked in [basic](#basic) section. Now in `site.webmanifest` so when serving the static files comes with the proper `Content-Type` given the extension. Previously `manifest.json`.

Added maskable icons

```json
{
  "src": "assets/favicons/maskable-icon-x48.png",
  "sizes": "48x48",
  "type": "image/png",
  "purpose": "any maskable monochrome"
}
```

Provided by [Maskable.app](https://maskable.app). That bit of JSON was typed by myself, using the [`icons` member MDN docs of web manifests](https://developer.mozilla.org/en-US/docs/Web/Manifest/icons). An extra one with no size is included as default.

The `"any maskable"` purpose comes from a [web.dev docs recommendation](https://web.dev/add-manifest/#icons). Later added `monochrome` too so that can be used for `monochrome` purposes (it looks good after testing it in [monochrome.fyi](https://monochrome.fyi))

> Previously, I had used the ones generated by [FaviconGenerator.org][favicon-generator-org]. However, those use `size` and `density` properties inside the manifest's `icon` property. Which is not documentedü§î Maybe that got obsolete? The manifest generated by [Real Favicon Generator][real-favicon-generator] also uses `src` + `sizes` +  `type` and no `density` or `size` (in singular) at all.

## Microsoft tiles

A `browserconfig.xml` file is created to provided tiles for legacy Windows Phone and Microsoft 8/10 tiles.

```xml
<?xml version="1.0" encoding="utf-8"?>
<browserconfig>
  <msapplication>
    <tile>
      <square70x70logo src="/assets/favicons/mstile-70x70.png"/>
      <square150x150logo src="/assets/favicons/mstile-150x150.png"/>
      <square310x310logo src="/assets/favicons/mstile-310x310.png"/>
      <wide310x150logo src="/assets/favicons/mstile-310x150.png"/>
      <TileColor>#202023</TileColor>
    </tile>
  </msapplication>
</browserconfig>
```

Those icons are created by [Favicomatic][favicomatic]. However, the file code is from [FaviconGenerator.org][favicon-generator-org]. Given [Favicomatic][favicomatic] puts the code as `meta` tags in the `index.html` `head` tag. But I find having a separate `browserconfig.xml` file better, to keep the index cleaner. And avoid offering info that may not be needed (you don't care at all about tiles if using macOS + Chrome for instance). One

> Both [Favicomatic][favicomatic] and [FaviconGenerator.org][favicon-generator-org] generate same sizes of icons. However, [Favicomatic][favicomatic] includes a wide tile. That one is added manually in the `browserconfig.xml` from the shape of the `meta` tag that [Favicomatic][favicomatic] provides.

However, as per [favicometer][favicometer], seems that at least the tile app, color and image are needed for IE10 pinned sites. So we need a bit more tags in our `index.html`

```html

<meta name="application-name" content="David LJ üîó @davidlj95">
<meta name="msapplication-TileColor" content="#202023"/>
<meta name="msapplication-TileImage" content="assets/favicons/mstile-144x144.png"/>
```

Check [Microsoft docs](https://learn.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/samples/dn455106(v=vs.85)?redirectedfrom=MSDN) for more info.

## SVG light/dark theme

Some code is manually added to the SVG file so that color is different depending on the dark/light theme preference of the user to provide better contrast. Colors of the theme are manually picked.

```html

<style>
  @media (prefers-color-scheme: light) {
    text {
      fill: #202124;
    }
  }

  @media (prefers-color-scheme: dark) {
    text {
      fill: #e8eaedff;
    }
  }
</style>
```

# Generators

I've used:

- [Real Favicon Generator][real-favicon-generator]
- [Favic-o-matic][favicomatic]. Doesn't support SVGüò¢ Doesn't generate the `.webmanifest`
- [FaviconGenerator.org][favicon-generator-org]. Doesn't allow SVGs üò¢

## Discarded

- [Favicon.cc](https://www.favicon.cc/). üïπÔ∏è Allows to design a 16x16 one only. Retro'ish.
- [Favicon.ico](https://favicon.io/favicon-converter/). Misses ability to customize maskable icons for Android/iOS.

# Checkers

- [Favic-o-matic's favic-o-meter][favicometer]

[favicon-generator-org]: https://www.favicon-generator.org/

[favicomatic]: https://favicomatic.com/

[real-favicon-generator]: https://realfavicongenerator.net/

[favicometer]: https://favicomatic.com/favicon-test
