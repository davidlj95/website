import { METADATA } from '@/data/metadata'
import { Environment } from '.'

// For info about how the Cloudflare Pages preview URL is formed:
// https://developers.cloudflare.com/pages/platform/preview-deployments/
const CLOUDFLARE_PAGES_DOMAIN = `${METADATA.nickname}.pages.dev`
const PR_BRANCH_NAME = '{{ prBranchName |  replace: '/', '-' |  truncate: 28, '' }}'
const CLOUDFLARE_PAGES_PREVIEW_BRANCH_ALIAS_URL = new URL(
  `https://${PR_BRANCH_NAME}.${CLOUDFLARE_PAGES_DOMAIN}`,
)
export const environment: Environment = {
  isProduction: false,
  appBaseUrl: CLOUDFLARE_PAGES_PREVIEW_BRANCH_ALIAS_URL,
}
